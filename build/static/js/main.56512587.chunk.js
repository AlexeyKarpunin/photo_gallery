(this["webpackJsonpfoto-gallery"]=this["webpackJsonpfoto-gallery"]||[]).push([[0],{26:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c),r=n(18),o=n.n(r),s=(n(26),n(7)),u=n(12),a=n(8),j=n.n(a),l=n(1);function b(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1];return Object(c.useEffect)((function(){j.a.getUsers().then((function(t){return t.json()})).then((function(t){return i(t)})).catch((function(t){throw new Error(t)}))}),[]),Object(l.jsx)("section",{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Our photographers"}),Object(l.jsx)("ul",{className:"users--list",children:n.map((function(t){return Object(l.jsx)(p,{name:t.name,id:t.id},t.id)}))})]})})}function p(t){return Object(l.jsx)("li",{className:"users--list__item",children:Object(l.jsx)(u.b,{to:"/photographer/".concat(t.name,"/").concat(t.id),children:t.name})})}var h=n(20),d=n(21),f=new(function(){function t(){Object(h.a)(this,t),this.albums=new Map}return Object(d.a)(t,[{key:"getAlbum",value:function(t){return this.albums.get(t)}},{key:"setAlbum",value:function(t,e){this.albums.set(t,e)}}]),t}()),O=n(2);function m(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],r=Object(O.g)(),o=r.id,u=r.name;return Object(c.useEffect)((function(){j.a.getUserAlmubs(o).then((function(t){return t.json()})).then((function(t){return i(t)})).catch((function(t){throw new Error(t)}))}),[]),Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{style:{padding:"50px 0 0 0"},children:u}),Object(l.jsx)("div",{className:"container user__albums",children:n.map((function(t){return Object(l.jsx)(x,{id:t.id,title:t.title,auth:u},t.id)}))})]})}function x(t){var e=Object(c.useState)([]),n=Object(s.a)(e,2),i=n[0],r=n[1],o=Object(O.f)();return Object(c.useEffect)((function(){var e=f.getAlbum(t.id);if(e)return r(e);j.a.getAlbumPhotos(t.id).then((function(t){return t.json()})).then((function(e){r(e),f.setAlbum(t.id,e)})).catch((function(t){throw new Error(t)}))}),[]),Object(l.jsxs)("div",{className:"user__album",children:[Object(l.jsx)("img",{className:"small__img",onClick:function(){o.push("/gallery/".concat(t.auth,"/").concat(t.id))},src:i[0]?i[0].thumbnailUrl:""})," ",Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:t.title})," ",Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Photos in gallery ",i.length]})]})}function g(){return Object(l.jsx)("div",{children:"PAGE WAS NOT FOUND ERROR 404"})}var v=n(10);function _(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],r=Object(O.g)().id,o=function(){var t=Object(c.useState)(new Map),e=Object(s.a)(t,2),n=e[0],i=e[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),u=o[0],a=o[1],j=Object(c.useState)({id:void 0,link:""}),b=Object(s.a)(j,2),p=b[0],h=b[1];function d(){var t=p.id+1;n.get(t)&&h((function(e){return Object(v.a)(Object(v.a)({},e),{},{link:n.get(t).url,id:t})}))}function f(){var t=p.id-1;n.get(t)&&h((function(e){return Object(v.a)(Object(v.a)({},e),{},{link:n.get(t).url,id:t})}))}function O(){a(!1)}return{initPopup:function(){return Object(l.jsxs)("div",{className:"popup ".concat(u?"popup_active":""),children:[Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("div",{onClick:f,className:"popup_btn popup_btn_next"}),Object(l.jsx)("img",{className:"popup__img",src:p.link}),Object(l.jsx)("div",{onClick:d,className:"popup_btn popup_btn_prev"})]}),Object(l.jsx)("div",{onClick:O,className:"popup_close",children:"+"})]})},openPopup:function(t){h((function(e){return Object(v.a)(Object(v.a)({},e),{},{link:n.get(t).url,id:t})})),a(!0)},initPopupPhotos:function(t){i((function(e){return t.forEach((function(t){e.set(t.id,t)})),e}))}}}();return Object(c.useEffect)((function(){var t=f.getAlbum(r);if(t)return o.initPopupPhotos(t),i(t);j.a.getAlbumPhotos(r).then((function(t){return t.json()})).then((function(t){i(t),o.initPopupPhotos(t)})).catch((function(t){throw new Error(t)}))}),[]),Object(l.jsxs)("section",{children:[Object(l.jsx)("div",{className:"container gallery",children:n.map((function(t){return Object(l.jsx)("img",{className:"big__img",onClick:function(e){return o.openPopup(t.id)},src:t.url},t.id)}))}),o.initPopup()]})}var N=function(){return Object(l.jsx)(u.a,{children:Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{exact:!0,path:"/",component:b}),Object(l.jsx)(O.a,{exact:!0,path:"/photographer/:name/:id",component:m}),Object(l.jsx)(O.a,{exact:!0,path:"/gallery/:name/:id",component:_}),Object(l.jsx)(O.a,{component:g})]})})};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))},8:function(t,e){t.exports={getAlbums:function(){return fetch("https://jsonplaceholder.typicode.com/albums")},getUsers:function(){return fetch("https://jsonplaceholder.typicode.com/users")},getUserAlmubs:function(t){return fetch("https://jsonplaceholder.typicode.com/albums?userId=".concat(t))},getAlbumPhotos:function(t){return fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(t))}}}},[[33,1,2]]]);
//# sourceMappingURL=main.56512587.chunk.js.map